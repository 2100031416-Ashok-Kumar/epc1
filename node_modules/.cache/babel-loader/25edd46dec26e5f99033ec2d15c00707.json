{"ast":null,"code":"var _jsxFileName = \"/home/AsH/Documents/epc-main/sdpdone/sdp/src/components/Form.js\",\n    _s = $RefreshSig$();\n\nimport './FormStyles.css';\nimport { NavLink } from 'react-router-dom';\nimport { useNavigate } from \"react-router\";\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [user, setUser] = useState({\n    email: '',\n    password: ''\n  }); // Handle Input\n\n  const handleChange = event => {\n    let name = event.target.name;\n    let value = event.target.value;\n    setUser({ ...user,\n      [name]: value\n    });\n  }; // Handle Login\n\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const {\n      email,\n      password\n    } = user;\n\n    try {\n      const res = await fetch('/login', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n\n      if (res.status === 400 || !res) {\n        window.alert(\"Invalid Credentials\");\n      } else {\n        window.alert(\"Login Successfull\");\n        window.location.reload();\n        navigate('/'); // Token is generated When we Logged In.\n        // Now we need to create Schema for Messages\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        id: \"exampleInputEmail1\",\n        \"aria-describedby\": \"emailHelp\",\n        name: \"email\",\n        value: user.email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"fa fa-eye showpwd\",\n        onClick: \"showPwd ('password', this)\",\n        type: \"password\",\n        className: \"form-control\",\n        id: \"exampleInputPassword1\",\n        name: \"password\",\n        value: user.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/forgotpassword\",\n        className: \"form-check-label\",\n        htmlFor: \"exampleCheck1\",\n        children: \"Forgot Password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/dashboard\",\n        className: \"btn\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Form, \"OajrwBFGdgpXGqGqC8XlzKspkNE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["NavLink","useNavigate","React","useState","Form","navigate","user","setUser","email","password","handleChange","event","name","target","value","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","status","window","alert","location","reload","error","console","log"],"sources":["/home/AsH/Documents/epc-main/sdpdone/sdp/src/components/Form.js"],"sourcesContent":["import './FormStyles.css'\nimport { NavLink } from 'react-router-dom'\nimport { useNavigate } from \"react-router\";\nimport React, { useState } from \"react\";\n\n\n\nconst Form = () => {\n\n        const navigate = useNavigate()\n      \n        const [user, setUser] = useState({\n          email : '',\n          password : ''\n        });\n      \n        // Handle Input\n        const handleChange = (event) =>{\n          let name = event.target.name\n          let value = event.target.value\n      \n          setUser({...user, [name]:value})\n        }\n      \n        // Handle Login\n        const handleSubmit = async (event) =>{\n          event.preventDefault();\n          const {email, password} = user;\n          try {\n            const res = await fetch('/login', {\n              method : \"POST\",\n              headers : {\n                \"Content-Type\" : \"application/json\"\n              },\n              body : JSON.stringify({\n                email, password\n              })\n            });\n      \n            if(res.status === 400 || !res){\n              window.alert(\"Invalid Credentials\")\n            }else{\n              window.alert(\"Login Successfull\");\n              window.location.reload();\n              navigate('/')\n              // Token is generated When we Logged In.\n              // Now we need to create Schema for Messages\n            }\n      \n          } catch (error) {\n            console.log(error);\n          }\n        }\n    return (\n        <div className='form'>\n            <form>\n                <label>Email</label>\n                <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"exampleInputEmail1\"\n                aria-describedby=\"emailHelp\"\n                name=\"email\"\n                value={user.email}\n                onChange={handleChange}\n                />\n                <label>Password</label>\n                <input class=\"fa fa-eye showpwd\" onClick=\"showPwd ('password', this)\"\n                type=\"password\"\n                className=\"form-control\"\n                id=\"exampleInputPassword1\"\n                name=\"password\"\n                value={user.password}\n                onChange={handleChange} \n                />\n                <NavLink to='/forgotpassword' className=\"form-check-label\" htmlFor=\"exampleCheck1\">\n                  Forgot Password?\n                </NavLink>\n              \n                <NavLink to=\"/dashboard\" className='btn'>Login</NavLink>\n            </form>\n        </div>\n    )\n}\n\nexport default Form\n"],"mappings":";;;AAAA,OAAO,kBAAP;AACA,SAASA,OAAT,QAAwB,kBAAxB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;AAIA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEX,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;EAEA,MAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC;IAC/BK,KAAK,EAAG,EADuB;IAE/BC,QAAQ,EAAG;EAFoB,CAAD,CAAhC,CAJW,CASX;;EACA,MAAMC,YAAY,GAAIC,KAAD,IAAU;IAC7B,IAAIC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB;IACA,IAAIE,KAAK,GAAGH,KAAK,CAACE,MAAN,CAAaC,KAAzB;IAEAP,OAAO,CAAC,EAAC,GAAGD,IAAJ;MAAU,CAACM,IAAD,GAAOE;IAAjB,CAAD,CAAP;EACD,CALD,CAVW,CAiBX;;;EACA,MAAMC,YAAY,GAAG,MAAOJ,KAAP,IAAgB;IACnCA,KAAK,CAACK,cAAN;IACA,MAAM;MAACR,KAAD;MAAQC;IAAR,IAAoBH,IAA1B;;IACA,IAAI;MACF,MAAMW,GAAG,GAAG,MAAMC,KAAK,CAAC,QAAD,EAAW;QAChCC,MAAM,EAAG,MADuB;QAEhCC,OAAO,EAAG;UACR,gBAAiB;QADT,CAFsB;QAKhCC,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAe;UACpBf,KADoB;UACbC;QADa,CAAf;MALyB,CAAX,CAAvB;;MAUA,IAAGQ,GAAG,CAACO,MAAJ,KAAe,GAAf,IAAsB,CAACP,GAA1B,EAA8B;QAC5BQ,MAAM,CAACC,KAAP,CAAa,qBAAb;MACD,CAFD,MAEK;QACHD,MAAM,CAACC,KAAP,CAAa,mBAAb;QACAD,MAAM,CAACE,QAAP,CAAgBC,MAAhB;QACAvB,QAAQ,CAAC,GAAD,CAAR,CAHG,CAIH;QACA;MACD;IAEF,CArBD,CAqBE,OAAOwB,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EACF,CA3BD;;EA4BJ,oBACI;IAAK,SAAS,EAAC,MAAf;IAAA,uBACI;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QACA,IAAI,EAAC,OADL;QAEA,SAAS,EAAC,cAFV;QAGA,EAAE,EAAC,oBAHH;QAIA,oBAAiB,WAJjB;QAKA,IAAI,EAAC,OALL;QAMA,KAAK,EAAEvB,IAAI,CAACE,KANZ;QAOA,QAAQ,EAAEE;MAPV;QAAA;QAAA;QAAA;MAAA,QAFJ,eAWI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ,eAYI;QAAO,KAAK,EAAC,mBAAb;QAAiC,OAAO,EAAC,4BAAzC;QACA,IAAI,EAAC,UADL;QAEA,SAAS,EAAC,cAFV;QAGA,EAAE,EAAC,uBAHH;QAIA,IAAI,EAAC,UAJL;QAKA,KAAK,EAAEJ,IAAI,CAACG,QALZ;QAMA,QAAQ,EAAEC;MANV;QAAA;QAAA;QAAA;MAAA,QAZJ,eAoBI,QAAC,OAAD;QAAS,EAAE,EAAC,iBAAZ;QAA8B,SAAS,EAAC,kBAAxC;QAA2D,OAAO,EAAC,eAAnE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QApBJ,eAwBI,QAAC,OAAD;QAAS,EAAE,EAAC,YAAZ;QAAyB,SAAS,EAAC,KAAnC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAxBJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AA8BH,CA5ED;;GAAMN,I;UAEmBH,W;;;KAFnBG,I;AA8EN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}